// import { NextResponse } from "next/server";
// import type { NextRequest } from "next/server";

// export function middleware(request: NextRequest) {
//   const refreshToken = request.cookies.get("refreshToken");
//   const pathname = request.nextUrl.pathname;

//   // This check is the important part to keep
//   const isPublicRoute =
//     pathname.startsWith("/login") || pathname.startsWith("/register");

//   // If the user is authenticated and tries to go to a public route,
//   // redirect them to the dashboard.
//   if (isPublicRoute && refreshToken) {
//     const url = request.nextUrl.clone();
//     url.pathname = "/dashboard";
//     return NextResponse.redirect(url);
//   }

//   // Continue to the next middleware or the page itself
//   return NextResponse.next();
// }
